(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{110:function(e,t,n){},112:function(e,t,n){},118:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(20),o=n.n(a),i=(n(110),n(111),n(91)),u=n(33),l=(n(112),n(76)),s=(n(118),n(42)),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="https://todo-apn.herokuapp.com";return fetch("".concat(n,"/items").concat(e),Object(s.a)(Object(s.a)({},t),{},{headers:{"Content-Type":"application/json"}})).then((function(e){return e.json()}))},j=n(140),f=n(141),b=n(102),O=n(145),m=n(146),h=n(13),g=function(e){var t=e.data,n=e.deleteItem,r=e.doneItem,a=e.markItem,o=Object(c.useState)(""),i=Object(u.a)(o,2),l=i[0],s=i[1],g=Object(c.useState)(!1),v=Object(u.a)(g,2),x=v[0],E=v[1],p=Object(c.useState)(""),y=Object(u.a)(p,2),S=y[0],D=y[1];return Object(h.jsx)(j.b,{bordered:!0,loading:x,dataSource:t,style:{marginTop:"1rem"},renderItem:function(e){var t=e._id,c=e.title,o=e.isDone,i=e.isMarked;return Object(h.jsx)(j.b.Item,{children:Object(h.jsxs)("div",{className:"item-content",children:[Object(h.jsx)(f.a.Text,{delete:o,strong:i,style:{color:i?"#4682b4":"unset",cursor:"pointer"},onClick:function(){return function(e,t){E(!0),d("/update",{method:"PUT",body:JSON.stringify({id:e,name:"isDone",val:!t})}).then((function(){return r(e)})).catch((function(e){return alert(e)})).finally((function(){return E(!1)}))}(t,o)},children:c}),Object(h.jsxs)("div",{children:[Object(h.jsx)(b.a,{danger:!0,loading:l===t?1:0,icon:Object(h.jsx)(O.a,{}),style:{marginRight:7},className:"btn",onClick:function(){return s(e=t),void d("/delete",{method:"DELETE",body:JSON.stringify({id:e})}).then((function(){return n(e)})).catch((function(e){return alert(e)})).finally((function(){return s("")}));var e}}),Object(h.jsx)(b.a,{loading:S===t?1:0,icon:Object(h.jsx)(m.a,{}),className:"btn btn-success",onClick:function(){return function(e,t){D(e),d("/update",{method:"PUT",body:JSON.stringify({id:e,name:"isMarked",val:!t})}).then((function(){return a(e)})).catch((function(e){return alert(e)})).finally((function(){return D("")}))}(t,i)}})]})]})})}})},v=n(143),x=n(138),E=n(139),p=n(142),y=n(144),S=Object(l.b)((function(e){return{data:e}}),(function(e){return{setElm:function(t){return e(function(){return{type:"SET",data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(t))},deleteElm:function(t){return e(function(){return{type:"DELETE",id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(t))},addElm:function(t){return e(function(){return{type:"ADD",newItem:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))},doneElm:function(t){return e(function(){return{type:"DONE",id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(t))},markElm:function(t){return e(function(){return{type:"MARK",id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}(t))}}}))((function(e){var t=e.data,n=e.deleteElm,r=e.addElm,a=e.doneElm,o=e.markElm,l=e.setElm,s=Object(c.useState)(t),j=Object(u.a)(s,2),f=j[0],O=j[1],m=Object(c.useState)(!1),S=Object(u.a)(m,2),D=S[0],I=S[1],N=Object(c.useState)("a"),T=Object(u.a)(N,2),k=T[0],_=T[1],C=Object(c.useState)(""),w=Object(u.a)(C,2),L=w[0],A=w[1],B=Object(c.useState)({active:0,done:0}),M=Object(u.a)(B,2),J=M[0],P=M[1],R=v.a.Content,z=Object(c.useRef)();Object(c.useEffect)((function(){F()}),[]);var F=function(){d("/").then((function(e){return l(e)})).catch((function(e){return console.log(e)}))};Object(c.useEffect)((function(){U(),O(t),X(L)}),[t]);var U=function(){var e,n=0,c=Object(i.a)(t);try{for(c.s();!(e=c.n()).done;){e.value.isDone&&n++}}catch(r){c.e(r)}finally{c.f()}P({active:t.length-n,done:n})},X=function(e){A(e),O(t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})))},K=function(){z.current.value.trim().length&&(I(!0),d("/add",{method:"POST",body:JSON.stringify({title:z.current.value})}).then((function(e){return r(e)})).catch((function(e){return alert(e)})).finally((function(){return I(!1)})))};return Object(h.jsx)(R,{className:"content-body",children:Object(h.jsx)(x.a,{justify:"center",style:{marginTop:"1rem"},children:Object(h.jsxs)(E.a,{xs:24,sm:16,md:12,lg:8,children:[Object(h.jsxs)("div",{className:"content-title",children:[Object(h.jsx)("h1",{style:{fontSize:"40px",marginBottom:"8px"},children:"Todo list"}),Object(h.jsxs)("h2",{style:{color:"#6c757d",marginBottom:"8px"},children:[J.active," more to do, ",J.done," done"]})]}),Object(h.jsx)(p.a,{size:"large",className:"search-input",placeholder:"type to search",value:L,onChange:function(e){return X(e.target.value)}}),Object(h.jsxs)(y.a.Group,{size:"large",defaultValue:k,buttonStyle:"solid",className:"action-btn-group",onChange:function(e){return _(e.target.value)},children:[Object(h.jsx)(y.a.Button,{value:"a",children:"All"}),Object(h.jsx)(y.a.Button,{value:"b",children:"Active"}),Object(h.jsx)(y.a.Button,{value:"c",children:"Done"})]}),"a"===k?Object(h.jsx)(g,{data:f,deleteItem:n,doneItem:a,markItem:o}):"b"===k?Object(h.jsx)(g,{data:f.filter((function(e){return!e.isDone})),deleteItem:n,doneItem:a,markItem:o}):"c"===k?Object(h.jsx)(g,{data:f.filter((function(e){return e.isDone})),deleteItem:n,doneItem:a,markItem:o}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("div",{className:"adding-content",children:[Object(h.jsx)(p.a,{size:"large",ref:z,placeholder:"What needs to be done",onChange:function(e){z.current.value=e.target.value},onKeyPress:function(e){return"Enter"===e.key&&K()}}),Object(h.jsx)(b.a,{size:"large",className:"add-btn",loading:D,onClick:K,children:"Add Item"})]})]})})})}));var D=function(){return Object(h.jsx)(v.a,{children:Object(h.jsx)(S,{})})},I=n(103),N=n(63),T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},k=Object(N.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.id,c=t.newItem,r=t.type,a=t.data;switch(r){case"SET":return a;case"ADD":return[].concat(Object(I.a)(e),[c]);case"DELETE":return e.filter((function(e){return e._id!==n}));case"DONE":return e.map((function(e){return e._id===n?Object(s.a)(Object(s.a)({},e),{},{isDone:!e.isDone}):e}));case"MARK":return e.map((function(e){return e._id===n?Object(s.a)(Object(s.a)({},e),{},{isMarked:!e.isMarked}):e}));default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(l.a,{store:k,children:Object(h.jsx)(D,{})})}),document.getElementById("root")),T()}},[[133,1,2]]]);
//# sourceMappingURL=main.eb9b8893.chunk.js.map